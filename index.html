<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastan Broiler poultry Traders</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="images/logo.png">
</head>


<nav class="navbar" id="mainNav">
    <button class="nav-toggle" aria-label="Toggle navigation">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
    </button>
    <ul class="nav-menu">
        <li><a href="#home">Home</a></li>
        <li><a href="#prices">Menu</a></li>
        <li><a href="#features">About Us</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="admin-login.html">Login</a></li>
    </ul>
</nav>

<body>
    <div class="scroll-progress"></div>
    
    <header class="hero">
        <div class="hero-content">
            <h1 class="section-title reveal active">Mastan Broiler Poultry Traders</h1>
            <p class="section-subtitle reveal active">Your Trusted Source for Quality Poultry Products</p>
            <p class="section-subtitle reveal active">chicken , eggs & Spices</p>
        </div>
    </header>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Admin Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username:</label>
                    <input type="text" id="username" name="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password:</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="submit-btn">Login</button>
            </form>
        </div>
    </div>  

    <section id="prices" class="prices">
        <h2 class="section-title reveal">Mastan Broiler poultry Traders Board Rate</h2>
        <div class="date-display">
            <span id="currentDate"></span>
        </div>
        <div class="price-grid">        
            <div class="price-card reveal">
                <h3>WITH SKIN CHICKEN</h3>
                <img src="images/with skin.jpg" alt="Chicken with skin" class="price-image">
                <p class="price" id="withSkinPrice"></p>
                <p class="description">Fresh WITH SKIN CHICKEN, cleaned and ready to cook</p>
            </div>
            <div class="price-card reveal">
                <h3>Skin less chicken</h3>
                <img src="images/skin less.jpg" alt="Skinless chicken" class="price-image">
                <p class="price" id="skinlessPrice"></p>
                <p class="description">Premium chicken legs, perfect for grilling</p>
            </div>
            <div class="price-card reveal">
                <h3>100 EGGS</h3>
                <img src="images/Eggs.jpg" alt="Eggs" class="price-image">
                <p class="price" id="eggsPrice"></p>
                <p class="description">100 eggs, fresh and ready to cook</p>
            </div>
            <div class="price-card reveal">
                <h3>Live rate</h3>
                <img src="images/live rate.jpg" alt="Live chicken">
                <p class="price" id="liveRate"></p>
                <p class="description">Live rate, fresh and ready to cook</p>
            </div>
        </div>
    </section>

    <section id="features" class="features">
        <h2 class="section-title reveal">Why Choose Us?</h2>
        <div class="feature-grid">
            <div class="feature-card reveal">
                <h3>Fresh Quality</h3>
                <p>We source only the freshest and highest quality chicken for our customers.</p>
            </div>
            <div class="feature-card reveal">
                <h3>Hygienic</h3>
                <p>Our facility maintains the highest standards of cleanliness and hygiene.</p>
            </div>
            <div class="feature-card reveal">
                <h3>Best Prices</h3>
                <p>Competitive prices without compromising on quality.</p>
            </div>
            <div class="feature-card reveal">
            <h3>Bulk Orders</h3>
            <p>Special arrangements for bulk orders, functions, and marriages with competitive pricing.</p>
            </div>
        </div>
    </section>

    <section id="contact" class="contact">
        <div class="contact-info reveal">
            <p>Visit us at:</p>
            <p>MC CIRCLE ALUR ROAD, Guntakal, Andhra Pradesh 515801</p>
            <p>Phone: <a href="tel:+917075363111">+91 7075363111</a><p>
            <p>WhatsApp: <a href="https://wa.me/917075363111">+91 7075363111</a></p>
            <p>Email: imthiazshaik9@gmail.com</p>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Mastan Broiler poultry Traders. All rights reserved.</p>
    </footer>

    <a href="#" class="back-to-top">↑</a>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-analytics.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAefiwRw1-CGmKPpBzhs1kveUPdc82UWAU",
            authDomain: "masthan-prices.firebaseapp.com",
            databaseURL: "https://masthan-prices-default-rtdb.firebaseio.com",
            projectId: "masthan-prices",
            storageBucket: "masthan-prices.firebasestorage.app",
            messagingSenderId: "879026480403",
            appId: "1:879026480403:web:1abbf69da8ef379ccd26e6",
            measurementId: "G-LCCQZS6Q1V"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const database = getDatabase(app);

        console.log("Firebase initialized in main page");

        // Update date display
        function updateDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', options);
        }

        // Scroll Progress Indicator
        window.addEventListener('scroll', () => {
            const scrollProgress = document.querySelector('.scroll-progress');
            const scrollable = document.documentElement.scrollHeight - window.innerHeight;
            const scrolled = window.scrollY;
            const progress = (scrolled / scrollable) * 100;
            scrollProgress.style.transform = `scaleX(${progress / 100})`;
        });

        // Back to Top Button
        const backToTop = document.querySelector('.back-to-top');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // Scroll Reveal Animation
        const revealElements = document.querySelectorAll('.reveal');
        
        function reveal() {
            revealElements.forEach(element => {
                const windowHeight = window.innerHeight;
                const elementTop = element.getBoundingClientRect().top;
                const elementVisible = 150;
                
                if (elementTop < windowHeight - elementVisible) {
                    element.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', reveal);
        reveal(); // Initial check

        // Function to format price with currency symbol
        function formatPrice(price, unit = '') {
            return `₹${price}${unit}`;
        }

        // Function to update price display
        function updatePriceDisplay(prices) {
            console.log("Updating price display with:", prices);
            
            // Update each price element
            const priceElements = {
                'withSkinPrice': '/kg',
                'skinlessPrice': '/kg',
                'eggsPrice': '',
                'liveRate': '/kg'
            };

            for (const [priceKey, unit] of Object.entries(priceElements)) {
                const element = document.getElementById(priceKey);
                if (element && prices[priceKey]) {
                    const formattedPrice = formatPrice(prices[priceKey], unit);
                    console.log(`Updating ${priceKey} to:`, formattedPrice);
                    element.textContent = formattedPrice;
                } else {
                    console.warn(`Element not found or price missing for ${priceKey}`);
                }
            }
        }

        // Listen for price changes in Firebase
        console.log("Setting up Firebase price listener...");
        const pricesRef = ref(database, 'prices');
        onValue(pricesRef, (snapshot) => {
            const prices = snapshot.val();
            console.log("Received prices from Firebase:", prices);
            if (prices) {
                updatePriceDisplay(prices);
            } else {
                console.warn("No prices received from Firebase");
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Page loaded, initializing...");
            updateDate();
        });

        // Login Modal Functionality
        const modal = document.getElementById('loginModal');
        const loginBtn = document.getElementById('loginBtn');
        const closeBtn = document.querySelector('.close');
        const loginForm = document.getElementById('loginForm');

        loginBtn.onclick = function(e) {
            e.preventDefault();
            modal.style.display = "block";
        }

        closeBtn.onclick = function() {
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

        loginForm.onsubmit = function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Check credentials (replace with your actual authentication logic)
            if (username === "admin" && password === "admin123") {
                window.location.href = "admin-dashboard.html";
            } else {
                alert("Invalid username or password!");
            }
        }

        // Mobile Navigation Toggle
        const navToggle = document.querySelector('.nav-toggle');
        const navMenu = document.querySelector('.nav-menu');

        if (navToggle && navMenu) {
            navToggle.addEventListener('click', () => {
                navToggle.classList.toggle('active');
                navMenu.classList.toggle('active');
            });

            // Close menu when a link is clicked
            navMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    navToggle.classList.remove('active');
                    navMenu.classList.remove('active');
                });
            });
        }
    </script>
</body>
</html>
